<% content_for :page_title, (@complained_to_school_form.errors.any? ? 'Error: ' : '') + 'Have you complained to the school about the teacher?' %>
<% content_for :back_link_url, referral_type_path %>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds-from-desktop">
    <%= form_with model: @complained_to_school_form, url: complained_about_teacher_path, method: :post do |f| %>
      <%= f.govuk_error_summary %>
      <%= f.govuk_collection_radio_buttons(:complaint_status,
                                           [OpenStruct.new(label: "Yes, and I received an outcome", value: 'received'),
                                            OpenStruct.new(label: "Yes, and I'm waiting for an outcome", value: 'awaiting'),
                                            OpenStruct.new(label: "No", value: 'no'),
                                           ],
                                           :value,
                                           :label,
                                           legend: { tag: 'h1', size: 'l', text: 'Have you complained to the school about the teacher?' }
          ) %>
      <%= f.govuk_submit %>
    <% end %>
  </div>
</div>