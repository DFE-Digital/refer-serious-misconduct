<% content_for :page_title, 'Test users' %>

<h1 class="govuk-heading-l">Test users</h1>

<%= govuk_pagination(pagy: @pagy) %>

<%=
  govuk_table do |table|
    table.with_head do |head|
      head.with_row do |row|
        row.with_cell(header: true, width: 'one-quarter') do
          tag.span("Email")
        end
        row.with_cell(header: true, width: 'one-third') do
        end
      end
    end

    table.with_body do |body|
      @users.each do |user|
        body.with_row do |row|
          row.with_cell do
            user.email
          end
          row.with_cell do
            govuk_button_to "Sign in", authenticate_support_interface_test_user_path(user.id), method: :put
          end
        end
      end
    end
  end
%>

<%= govuk_button_to "Create new user", support_interface_test_users_path, method: :post %>
