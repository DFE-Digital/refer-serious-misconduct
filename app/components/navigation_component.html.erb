<%=
  govuk_header(service_name: t("service.name")) do |header|
    case current_namespace
    when "support"
      header.navigation_item(
        active:
        current_page?(support_interface_eligibility_checks_path),
        href: support_interface_eligibility_checks_path,
        text: "Eligibility Checks"
      )
      header.navigation_item(
        active: current_page?(support_interface_feature_flags_path),
        href: support_interface_feature_flags_path,
        text: "Features"
      )
      header.navigation_item(
        active: request.path.start_with?("/support/staff"),
        text: "Staff",
        href: support_interface_staff_index_path
      )
      if HostingEnvironment.test_environment?
        header.navigation_item(
          active:
          request.path.start_with?(
            support_interface_test_users_path
          ),
          text: "Test Users",
          href: support_interface_test_users_path
        )
      end

      if current_staff
        header.navigation_item(
          href: staff_sign_out_path,
          text: "Sign out"
        )
      end
    else
      if FeatureFlags::FeatureFlag.active?(:referral_form)
        if current_user
          header.navigation_item(
            href: users_sign_out_path,
            text: "Sign out"
          )
        else
          header.navigation_item(
            href: new_user_session_path,
            text: "Sign in"
          )
        end
      end
    end
  end
%>
